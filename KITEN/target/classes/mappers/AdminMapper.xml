<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="admin">

	<!-- 회원가입 시 정보 DB에 넣기 -->
	<insert id="productInsert" parameterType="ProductVO">
		INSERT INTO product (
		p_name, p_stock, p_price, p_state, p_brand,
		p_weight, categoryname, p_shortcontent,
		p_time, p_storage, p_due,
		p_list, p_allergy
		<if test="p_list_fname != null">
			, p_list_fname, p_list_realfname, p_list_fsize, p_detail_fname,
			p_detail_realfname, p_detail_fsize
		</if>
		)
		VALUES (
		#{p_name}, #{p_stock}, #{p_price}, #{p_state}, #{p_brand},
		#{p_weight}, #{categoryname}, #{p_shortcontent},
		#{p_time},
		#{p_storage}, #{p_due}, #{p_list}, #{p_allergy}
		<if test="p_list_fname != null">
			, #{p_list_fname}, #{p_list_realfname}, #{p_list_fsize},
			#{p_detail_fname}, #{p_detail_realfname}, #{p_detail_fsize}
		</if>
		)
	</insert>
	
	<!-- 회원 정보 조회 -->
	<select id="memberList" resultType="MemberVO">
	SELECT *
	FROM member
	ORDER BY m_number
	
	</select>
	
	<!-- 회원 정보 삭제 -->
	<delete id="DeleteMember" parameterType="MemberVO">
	DELETE FROM member
		WHERE m_number = #{m_number}
	
	</delete>
	
	<!-- 회원 정보 수정  -->
	<update id="memberModify" parameterType="MemberVO">

		UPDATE member SET
		m_id = #{m_id},
		m_tel = #{m_tel},
		m_address1 = #{m_address1},
		m_address2 = #{m_address2},
		m_email = #{m_email}	
		WHERE m_number = #{m_number}

	</update>
	
	<!-- 상품 정보 조회 -->
	<select id="productList" resultType="ProductVO">
	SELECT *
	FROM product
	ORDER BY p_number
	</select>
	
	<!-- 회원 정보 삭제 -->
	<delete id="DeleteProduct" parameterType="ProductVO">
	DELETE FROM product
		WHERE p_number = #{p_number}
	
	</delete>

</mapper>