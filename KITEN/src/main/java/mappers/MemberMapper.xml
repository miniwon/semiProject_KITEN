<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="user">


	<!-- 회원가입 시 정보 DB에 넣기 -->
	<insert id="userInsert" parameterType="MemberVO">
		INSERT INTO member
		(m_id,
		m_password, m_name, m_tel, m_address1, m_address2, m_email)
		VALUES
		(#{m_id}, #{m_password}, #{m_name}, #{m_tel}, #{m_address1},
		#{m_address2}, #{m_email})
	</insert>

	<!-- id 중복 검사 / 로그인용 아이디 확인 -->
	<select id="idCheck" parameterType="MemberVO"
		resultType="MemberVO">
		SELECT *
		FROM member
		WHERE m_id = #{m_id}
		<if test="m_password != null">
			AND m_password = #{m_password}
		</if>
	</select>
	
	
	<!-- id 정보 통해 다른 정보 가져오기 -->
	<select id="idSelect" parameterType="string"
		resultType="MemberVO">
		SELECT *
		FROM member
		WHERE m_id = #{m_id}
		
	</select>
	
	
	<!-- 회원 정보 수정  -->
	<update id="userUpdate" parameterType="MemberVO">

		UPDATE member SET
		M_TEL = #{m_tel},
		M_address1 = #{m_address1},
		m_address2 = #{m_address2},
		m_email = #{m_email}	
		WHERE m_id = #{m_id}

	</update>
	
	<update id="userUpdate2" parameterType="MemberVO">

		UPDATE member SET
		
		m_password = #{m_password},
		m_tel = #{m_tel},
		m_address1 = #{m_address1},
		m_address2 = #{m_address2},
		m_email = #{m_email}	
		WHERE m_id = #{m_id}

	</update>


</mapper>